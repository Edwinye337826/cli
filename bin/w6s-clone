#!/usr/bin/env node

/**
* prev: params parse
*/

const path = require('path');
const program = require('commander');
const clone = require('../lib/clone');

/**
 * Padding.
 */

console.log()
process.on('exit', function () {
  console.log()
})

/**
* Usage
*/
program.usage('<template-name> [project-name]')

/**
* Help
*/
program.on('--help', function(){
  console.log('  Examples:');
  console.log('');
  console.log('    # create a new project with an official template'.gray);
  console.log('    $ w6s clone demo7 my-project');
  console.log('');
});

/**
 * Agrs params
 */

program.parse(process.argv);
let args = program.args;

if (args.length < 1) {
  return program.help();
}

let template = args[0];
let pathName = args[1];
let inPlace = !pathName || pathName === '.';
let destination = path.resolve(pathName || '.');
let name = !pathName ? template : pathName;

clone(name, template, destination, inPlace);
